{% extends 'base.html' %}
{% load static %}

{% block content %}
  <h2 class="csv-title">Subir archivo CSV</h2>
  <form method="post" enctype="multipart/form-data" class="csv-form">
    {% csrf_token %}
    <div class="form-group">
      {{ form.archivo.label_tag }}<br>
      {{ form.archivo }}
      {% if form.archivo.errors %}
        <div class="alert alert-error error-margin">{{ form.archivo.errors.0 }}</div>
      {% endif %}
    </div>
    <button type="submit" class="csv-btn">Subir</button>
  </form>
  {% if errores %}
    <div class="alert alert-error error-margin">
      <h3 class="alert-title">Errores de validaci√≥n:</h3>
      <ul class="error-list">
        {% for error in errores %}
          <li>Fila {{ error.fila }}, Columna {{ error.columna }}: {{ error.mensaje }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
  {% if exito %}
    <div class="alert alert-success success-margin">
      <h3 class="alert-title">Archivo validado correctamente.</h3>
    </div>
  {% endif %}
{% endblock %}
